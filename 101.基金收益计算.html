<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/global.css">
    <script src="./assets/echarts/echarts.min.js"></script>

    <style>
        #income-line {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>

<body>
    <div id="income-line"> </div>


    <script type="module">


        // 开始买5w 结束卖出收益计算
        let amount = 50000
        let holdValue = amount / 0.7805

        // 开始买5w 每周卖5w再买5w
        let holdValue2 = amount / 0.7805
        let income2 = 0

        // 加上红包
        let income3 = 0;

        let fund = [
            "2022-07-15,0.7805",
            "2022-07-19,0.8016",
            "2022-07-20,0.8018",
            "2022-07-21,0.7932",
            "2022-07-22,0.7962",
            "2022-07-26,0.7924",
            "2022-07-27,0.7890",
            "2022-07-28,0.7941",
            "2022-07-29,0.7861",
            "2022-08-01,0.7791",
            "2022-08-03,0.7533",
            "2022-08-04,0.7596",
            "2022-08-05,0.7757",
            "2022-08-08,0.7748",
            "2022-08-10,0.7679",
            "2022-08-11,0.8028",
            "2022-08-12,0.8033",
            "2022-08-15,0.7964",
            "2022-08-16,0.7949",
            "2022-08-18,0.8007",
            "2022-08-19,0.7981",
            "2022-08-22,0.7955",
            "2022-08-23,0.7972",
            "2022-08-24,0.7921",
            "2022-08-26,0.8028",
            "2022-08-29,0.7991",
            "2022-08-30,0.7996",
            "2022-08-31,0.8076",
            "2022-09-02,0.7974",
            "2022-09-05,0.8027",
            "2022-09-06,0.8103",
            "2022-09-07,0.8051",
            "2022-09-08,0.8041",
            "2022-09-13,0.8187",
            "2022-09-14,0.8091",
            "2022-09-15,0.8088",
            "2022-09-16,0.7693",
            "2022-09-20,0.7597",
            "2022-09-21,0.7590",
            "2022-09-22,0.7555",
            "2022-09-23,0.7575",
            "2022-09-26,0.7434",
            "2022-09-28,0.7378",
            "2022-09-29,0.7289",
            "2022-09-30,0.7293",
            "2022-10-10,0.7230",
            "2022-10-11,0.7260",
            "2022-10-13,0.7389",
            "2022-10-14,0.7479",
            "2022-10-17,0.7516",
            "2022-10-18,0.7473",
            "2022-10-20,0.7405",
            "2022-10-21,0.7400",
            "2022-10-24,0.7216",
            "2022-10-25,0.7111",
            "2022-10-26,0.7148",
            "2022-10-28,0.7009",
            "2022-10-31,0.7023",
            "2022-11-01,0.7251",
            "2022-11-02,0.7258",
            "2022-11-04,0.7427",
            "2022-11-07,0.7448",
            "2022-11-08,0.7424",
            "2022-11-09,0.7374",
            "2022-11-10,0.7417",
            "2022-11-14,0.7721",
            "2022-11-15,0.7951",
            "2022-11-16,0.7832",
            "2022-11-17,0.7886",
            "2022-11-18,0.7788",
            "2022-11-22,0.7726",
            "2022-11-23,0.7717",
            "2022-11-24,0.7683",
            "2022-11-25,0.7788",
            "2022-11-29,0.7995",
            "2022-11-30,0.7978",
            "2022-12-01,0.8010",
            "2022-12-02,0.7967",
            "2022-12-05,0.8278",
            "2022-12-07,0.8171",
            "2022-12-08,0.8182",
            "2022-12-09,0.8237",
            "2022-12-12,0.8029",
            "2022-12-14,0.8109",
            "2022-12-15,0.8031",
            "2022-12-16,0.8060",
            "2022-12-19,0.7845",
            "2022-12-20,0.7788",
            "2022-12-22,0.7809",
            "2022-12-23,0.7814",
            "2022-12-26,0.7764",
            "2022-12-27,0.7885",
            "2022-12-28,0.7875",
            "2022-12-30,0.7900",
            "2022-12-31,0.7900",
            "2023-01-03,0.7873",
            "2023-01-04,0.7948",
            "2023-01-06,0.8079",
            "2023-01-09,0.8220",
            "2023-01-10,0.8144",
            "2023-01-11,0.8161",
            "2023-01-12,0.8232",
            "2023-01-16,0.8585",
            "2023-01-17,0.8623",
            "2023-01-18,0.8601",
            "2023-01-19,0.8729",
            "2023-01-30,0.8620",
            "2023-01-31,0.8541",
            "2023-02-01,0.8730",
            "2023-02-02,0.8578",
            "2023-02-03,0.8502",
            "2023-02-07,0.8383",
            "2023-02-08,0.8318",
            "2023-02-09,0.8457",
            "2023-02-10,0.8402",
            "2023-02-13,0.8444",
            "2023-02-15,0.8377",
            "2023-02-16,0.8337",
            "2023-02-17,0.8222",
            "2023-02-20,0.8523",
            "2023-02-22,0.8462",
            "2023-02-23,0.8492",
            "2023-02-24,0.8359",
            "2023-02-27,0.8276",
            "2023-02-28,0.8357",
            "2023-03-02,0.8488",
            "2023-03-03,0.8536",
            "2023-03-06,0.8385",
            "2023-03-07,0.8245",
            "2023-03-08,0.8219",
            "2023-03-10,0.8056",
            "2023-03-13,0.8121",
            "2023-03-14,0.8007",
            "2023-03-15,0.8068",
            "2023-03-17,0.8127",
            "2023-03-20,0.8057",
            "2023-03-21,0.8101",
            "2023-03-22,0.8072",
            "2023-03-23,0.8176",
            "2023-03-27,0.8166",
            "2023-03-28,0.8103",
            "2023-03-29,0.8056",
            "2023-03-30,0.8085",
            "2023-04-03,0.8355",
            "2023-04-04,0.8382",
            "2023-04-06,0.8298",
            "2023-04-07,0.8392",
            "2023-04-10,0.8367",
            "2023-04-12,0.8429",
            "2023-04-13,0.8336",
            "2023-04-14,0.8347",
            "2023-04-17,0.8604",
            "2023-04-18,0.8639",
            "2023-04-20,0.8585",
            "2023-04-21,0.8273",
            "2023-04-24,0.8182",
            "2023-04-25,0.8203",
            "2023-04-27,0.8372",
            "2023-04-28,0.8545",
            "2023-05-04,0.8729",
            "2023-05-05,0.8808",
            "2023-05-08,0.8991",
            "2023-05-10,0.8753",
            "2023-05-11,0.8751",
            "2023-05-12,0.8621",
            "2023-05-15,0.8835",
            "2023-05-17,0.8666",
            "2023-05-18,0.8660",
            "2023-05-19,0.8541",
            "2023-05-22,0.8540",
            "2023-05-23,0.8373",
            "2023-05-25,0.8219",
            "2023-05-26,0.8243",
            "2023-05-29,0.8182",
            "2023-05-30,0.8196",
            "2023-05-31,0.8128",
            "2023-06-02,0.8241",
            "2023-06-05,0.8186",
            "2023-06-06,0.8128",
            "2023-06-07,0.8154",
            "2023-06-09,0.8215",
            "2023-06-12,0.8161",
            "2023-06-13,0.8201",
            "2023-06-14,0.8198",
            "2023-06-15,0.8281",
            "2023-06-19,0.8211",
            "2023-06-20,0.8161",
            "2023-06-21,0.8032",
            "2023-06-26,0.7869",
            "2023-06-28,0.7956",
            "2023-06-29,0.7941",
            "2023-06-30,0.8030",
            "2023-07-03,0.8209",
            "2023-07-04,0.8196",
            "2023-07-06,0.8115",
            "2023-07-07,0.8160",
            "2023-07-10,0.8142",
            "2023-07-11,0.8187",
            "2023-07-12,0.8134",
            "2023-07-14,0.8294",
            "2023-07-17,0.8227",
            "2023-07-18,0.8222",
            "2023-07-19,0.8260",
            "2023-07-21,0.8180",
            "2023-07-24,0.8154",
            "2023-07-25,0.8588",
            "2023-07-26,0.8596",
            "2023-07-27,0.8546",
            "2023-07-31,0.9164",
            "2023-08-01,0.9105",
            "2023-08-02,0.9140",
            "2023-08-03,0.9423",
            "2023-08-07,0.9454",
            "2023-08-08,0.9411",
            "2023-08-09,0.9378",
            "2023-08-10,0.9512",
            "2023-08-11,0.9147",
            "2023-08-15,0.9187",
            "2023-08-16,0.9190",
            "2023-08-17,0.9157",
            "2023-08-18,0.9059",
            "2023-08-21,0.8775",
            "2023-08-23,0.8723",
            "2023-08-24,0.8799",
            "2023-08-25,0.8859",
            "2023-08-28,0.9049",
            "2023-08-30,0.8824",
            "2023-08-31,0.8717",
            "2023-09-01,0.8799",
            "2023-09-04,0.8909",
            "2023-09-05,0.8790",
            "2023-09-07,0.8740",
            "2023-09-08,0.8770",
            "2023-09-11,0.8866",
            "2023-09-12,0.8771",
            "2023-09-14,0.8705",
            "2023-09-15,0.8661",
            "2023-09-18,0.8676",
            "2023-09-19,0.8676",
            "2023-09-20,0.8643",
            "2023-09-22,0.8818",
            "2023-09-25,0.8636",
            "2023-09-26,0.8625",
            "2023-09-27,0.8628",
            "2023-09-28,0.8565",
            "2023-10-10,0.8457",
            "2023-10-11,0.8448",
            "2023-10-12,0.8570",
            "2023-10-13,0.8497",
            "2023-10-17,0.8566",
            "2023-10-18,0.8531",
            "2023-10-19,0.8428",
            "2023-10-20,0.8413",
            "2023-10-23,0.8275",
            "2023-10-25,0.8465",
            "2023-10-26,0.8463",
            "2023-10-27,0.8460",
            "2023-10-30,0.8416",
            "2023-10-31,0.8445",
            "2023-11-02,0.8361",
            "2023-11-03,0.8432",
            "2023-11-06,0.8700",
            "2023-11-07,0.8692",
            "2023-11-09,0.8534",
            "2023-11-10,0.8491",
            "2023-11-13,0.8470",
            "2023-11-14,0.8550",
            "2023-11-15,0.8593",
            "2023-11-17,0.8541",
            "2023-11-20,0.8510",
            "2023-11-21,0.8519",
            "2023-11-22,0.8450",
            "2023-11-24,0.8396",
            "2023-11-27,0.8304",
            "2023-11-28,0.8284",
            "2023-11-29,0.8191",
            "2023-11-30,0.8213",
            "2023-12-04,0.8214",
            "2023-12-05,0.8097",
            "2023-12-06,0.8065",
            "2023-12-07,0.8102",
            "2023-12-08,0.8051",
            "2023-12-12,0.8169",
            "2023-12-13,0.8058",
            "2023-12-14,0.8019",
            "2023-12-15,0.8016",
            "2023-12-19,0.7991",
            "2023-12-20,0.7819",
            "2023-12-21,0.7827",
            "2023-12-22,0.7836",
            "2023-12-25,0.7794",
            "2023-12-27,0.7758",
            "2023-12-28,0.7950",
            "2023-12-29,0.7957",
            "2023-12-31,0.7957",
            "2024-01-03,0.7876",
            "2024-01-04,0.7793",
            "2024-01-05,0.7757",
            "2024-01-08,0.7623",
            "2024-01-09,0.7598",
            "2024-01-11,0.7602",
            "2024-01-12,0.7530",
            "2024-01-15,0.7526",
            "2024-01-16,0.7609",
            "2024-01-17,0.7473",
            "2024-01-19,0.7527",
            "2024-01-22,0.7405",
            "2024-01-23,0.7506",
            "2024-01-24,0.7785",
            "2024-01-26,0.7923",
            "2024-01-29,0.7831",
            "2024-01-30,0.7718",
            "2024-01-31,0.7681",
            "2024-02-01,0.7635",
            "2024-02-05,0.7442",
            "2024-02-06,0.7797",
            "2024-02-07,0.7899",
            "2024-02-08,0.7966",
            "2024-02-20,0.7950",
            "2024-02-21,0.8058",
            "2024-02-22,0.8132",
            "2024-02-23,0.8156",
            "2024-02-26,0.8046",
            "2024-02-28,0.8033",
            "2024-02-29,0.8161",
            "2024-03-01,0.8192",
            "2024-03-04,0.8087",
            "2024-03-05,0.8076",
            "2024-03-07,0.8007",
            "2024-03-08,0.8003",
            "2024-03-11,0.8103",
            "2024-03-12,0.8157",
            "2024-03-14,0.7950",
            "2024-03-15,0.7983",
            "2024-03-18,0.8123",
            "2024-03-19,0.7989",
            "2024-03-20,0.8006",
            "2024-03-22,0.7884",
            "2024-03-25,0.7709",
            "2024-03-26,0.7751",
            "2024-03-27,0.7637",
            "2024-03-29,0.7689",
            "2024-04-01,0.7799",
            "2024-04-02,0.7755",
            "2024-04-03,0.7700",
            "2024-04-08,0.7583",
            "2024-04-10,0.7452",
            "2024-04-11,0.7428",
            "2024-04-12,0.7275",
            "2024-04-15,0.7421",
            "2024-04-16,0.7317",
            "2024-04-18,0.7533",
            "2024-04-19,0.7488",
            "2024-04-22,0.7505",
            "2024-04-23,0.7495",
            "2024-04-25,0.7544",
            "2024-04-26,0.7880",
            "2024-04-29,0.8001",
            "2024-04-30,0.7869",
            "2024-05-06,0.7960",
            "2024-05-08,0.7837",
            "2024-05-09,0.7894",
            "2024-05-10,0.7971",
            "2024-05-13,0.7979",
            "2024-05-14,0.7995",
            "2024-05-16,0.7877",
            "2024-05-17,0.8046",
            "2024-05-20,0.8073",
            "2024-05-21,0.8040",
            "2024-05-23,0.7920",
            "2024-05-24,0.7802",
            "2024-05-27,0.7870",
            "2024-05-28,0.7794",
            "2024-05-29,0.7792",
            "2024-05-31,0.7755",
            "2024-06-03,0.7707",
            "2024-06-04,0.7748",
            "2024-06-05,0.7715",
            "2024-06-07,0.7582",
            "2024-06-11,0.7564",
            "2024-06-12,0.7547",
            "2024-06-13,0.7545",
            "2024-06-14,0.7697",
            "2024-06-18,0.7731",
            "2024-06-19,0.7665",
            "2024-06-20,0.7599",
            "2024-06-21,0.7611",
            "2024-06-24,0.7558",
            "2024-06-26,0.7523",
            "2024-06-27,0.7458",
            "2024-06-28,0.7345",
            "2024-06-30,0.7345",
            "2024-07-02,0.7357",
            "2024-07-03,0.7379",
            "2024-07-04,0.7270",
            "2024-07-05,0.7234",
            "2024-07-08,0.7099",
            "2024-07-10,0.7257",
            "2024-07-11,0.7321",
            "2024-07-12,0.7338",
            "2024-07-15,0.7341",
            "2024-07-17,0.7437",
            "2024-07-18,0.7480",
            "2024-07-19,0.7558",
            "2024-07-22,0.7589",
            "2024-07-23,0.7443",
            "2024-07-25,0.7424",
            "2024-07-26,0.7510",
            "2024-07-29,0.7486",
            "2024-07-30,0.7501",
            "2024-07-31,0.7826",
            "2024-08-02,0.7659",
            "2024-08-05,0.7639",
            "2024-08-06,0.7574",
            "2024-08-07,0.7539",
            "2024-08-09,0.7507",
            "2024-08-12,0.7496",
            "2024-08-13,0.7572",
            "2024-08-14,0.7521",
            "2024-08-15,0.7611",
            "2024-08-19,0.7626",
            "2024-08-20,0.7565",
            "2024-08-21,0.7542",
            "2024-08-22,0.7445",
            "2024-08-26,0.7569",
            "2024-08-27,0.7517",
            "2024-08-28,0.7514",
            "2024-08-29,0.7509",
            "2024-08-30,0.7727",
            "2024-09-03,0.7624",
            "2024-09-04,0.7594",
            "2024-09-05,0.7681",
            "2024-09-06,0.7711",
            "2024-09-09,0.7678",
            "2024-09-11,0.7643",
            "2024-09-12,0.7628",
            "2024-09-13,0.7647",
            "2024-09-18,0.7692",
            "2024-09-20,0.7771",
            "2024-09-23,0.7781",
            "2024-09-24,0.8232",
            "2024-09-25,0.8415",
            "2024-09-26,0.8909",
            "2024-09-30,1.0525",
            "2024-10-08,1.1524",
            "2024-10-09,1.0941",
            "2024-10-10,1.0507",
            "2024-10-14,1.0448",
            "2024-10-15,1.0113",
            "2024-10-16,1.0163",
            "2024-10-17,1.0111",
            "2024-10-18,1.0661",
            "2024-10-22,1.0571",
            "2024-10-23,1.0588",
            "2024-10-24,1.0552",
            "2024-10-25,1.0593",
            "2024-10-28,1.0584",
            "2024-10-30,1.0416",
            "2024-10-31,1.0613",
            "2024-11-01,1.0535",
            "2024-11-04,1.0859",
            "2024-11-06,1.1309",
            "2024-11-07,1.2104",
            "2024-11-08,1.1815",
            "2024-11-11,1.1781",
            "2024-11-12,1.1512",
            "2024-11-14,1.1355",
            "2024-11-15,1.0950",
            "2024-11-18,1.0861",
            "2024-11-19,1.0998",
            "2024-11-21,1.1098",
            "2024-11-22,1.0593",
            "2024-11-25,1.0509",
            "2024-11-26,1.0513",
            "2024-11-27,1.0727",
            "2024-11-29,1.0847",
            "2024-12-02,1.0977",
            "2024-12-03,1.1004",
            "2024-12-04,1.0891",
            "2024-12-05,1.0960",
            "2024-12-09,1.1055",
            "2024-12-10,1.1169",
            "2024-12-11,1.1101",
            "2024-12-12,1.1245",
            "2024-12-16,1.0764",
            "2024-12-17,1.0760",
            "2024-12-18,1.0751",
            "2024-12-19,1.0730",
            "2024-12-20,1.0747",
            "2024-12-24,1.0845",
            "2024-12-25,1.0807",
            "2024-12-26,1.0796",
            "2024-12-27,1.0854",
            "2024-12-30,1.0968",
            "2025-01-02,1.0047",
            "2025-01-03,0.9820",
            "2025-01-06,0.9813",
            "2025-01-07,0.9884",
            "2025-01-09,0.9773",
            "2025-01-10,0.9611",
            "2025-01-13,0.9619",
            "2025-01-14,0.9955",
            "2025-01-15,0.9871",
            "2025-01-17,0.9905",
            "2025-01-20,0.9962",
            "2025-01-21,0.9984",
            "2025-01-22,0.9909",
            "2025-01-24,1.0117",
            "2025-01-27,0.9917",
            "2025-02-05,0.9866",
            "2025-02-06,1.0003",
            "2025-02-07,1.0185",
            "2025-02-11,1.0118",
            "2025-02-12,1.0254",
            "2025-02-13,1.0208",
            "2025-02-14,1.0263",
            "2025-02-17,1.0289",
            "2025-02-19,1.0170",
            "2025-02-20,1.0107",
            "2025-02-21,1.0286",
            "2025-02-24,1.0277",
            "2025-02-26,1.0338",
            "2025-02-27,1.0326",
            "2025-02-28,1.0018",
            "2025-03-03,1.0009",
            "2025-03-04,1.0031",
            "2025-03-06,1.0272",
            "2025-03-07,1.0135",
            "2025-03-10,1.0055",
            "2025-03-11,1.0089",
            "2025-03-13,1.0071",
            "2025-03-14,1.0442",
            "2025-03-17,1.0358",
            "2025-03-18,1.0377",
            "2025-03-19,1.0384",
            "2025-03-21,1.0096",
            "2025-03-24,1.0111",
            "2025-03-25,1.0074",
            "2025-03-26,1.0057",
            "2025-03-27,1.0088",
            "2025-03-31,0.9933",
            "2025-04-01,0.9919",
            "2025-04-02,0.9965",
            "2025-04-03,0.9937",
            "2025-04-08,0.9209",
            "2025-04-09,0.9326",
            "2025-04-10,0.9448",
            "2025-04-11,0.9451",
            "2025-04-14,0.9464",
            "2025-04-16,0.9452",
            "2025-04-17,0.9465",
            "2025-04-18,0.9515",
            "2025-04-21,0.9547",
            "2025-04-23,0.9561",
            "2025-04-24,0.9550",
            "2025-04-25,0.9603",
            "2025-04-28,0.9541",
            "2025-04-29,0.9508",
            "2025-05-06,0.9629",
            "2025-05-07,0.9704",
            "2025-05-08,0.9756",
            "2025-05-09,0.9670",
            "2025-05-12,0.9868",
            "2025-05-14,1.0190",
            "2025-05-15,1.0016",
            "2025-05-16,0.9900",
            "2025-05-19,0.9892",
            "2025-05-21,0.9900",
            "2025-05-22,0.9867",
            "2025-05-23,0.9734",
            "2025-05-26,0.9741",
            "2025-05-27,0.9727",
            "2025-05-29,0.9787",
            "2025-05-30,0.9740",
            "2025-06-03,0.9828",
            "2025-06-04,0.9929",
            "2025-06-06,0.9935",
            "2025-06-09,1.0050",
            "2025-06-10,0.9938",
            "2025-06-11,1.0129",
            "2025-06-12,1.0141",
            "2025-06-16,1.0158",
            "2025-06-17,1.0177",
            "2025-06-18,1.0062",
            "2025-06-19,0.9902",
            "2025-06-20,0.9942",
            "2025-06-24,1.0294",
            "2025-06-25,1.0751",
            "2025-06-26,1.0599",
            "2025-06-27,1.0554",
            "2025-07-01,1.0509",
            "2025-07-02,1.0473",
            "2025-07-03,1.0524",
            "2025-07-04,1.0551",
            "2025-07-07,1.0562",
            "2025-07-09,1.0577",
            "2025-07-10,1.0710",
            "2025-07-11,1.0924",
            "2025-07-14,1.0834"
        ].map((item, index) => {
            let date = item.split(',')[0]
            let value = +item.split(',')[1]
            let holdAmount = ~~(holdValue * value)
            let holdIncome = ~~(holdAmount - amount);

            let holdAmount2 = ~~(holdValue2 * value)
            let holdIncome2 = ~~(holdAmount2 - amount + income2);
            let holdIncome3 = ~~(holdAmount2 - amount + income3);

            // 动态补仓 
            if (index % 5 == 0 && index != 0) {
                income2 += (holdAmount2 - amount)
                income3 += (holdAmount2 - amount) + 22 // 加红包
                holdValue2 = ~~(amount / value) // 最新买入的持有份额
            }

            return {
                date,
                value,
                holdAmount,
                holdIncome,
                holdIncome2,
                holdIncome3
            }
        })


        var myChart = echarts.init(document.getElementById('income-line'));

        var option = {
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                show: false
            },
            grid: {
                left: '10%',
                right: '10%',
                bottom: '10%',
                top: '10%',
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: fund.map(f => f.date)
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    name: 'ALL IN',
                    type: 'line',
                    // stack: 'Total',
                    data: fund.map(f => f.holdIncome)
                },
                {
                    name: 'Week',
                    type: 'line',
                    // stack: 'Total',
                    data: fund.map(f => f.holdIncome2)
                },
                {
                    name: 'Week + 红包',
                    type: 'line',
                    // stack: 'Total',
                    data: fund.map(f => f.holdIncome3)
                },
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>

</html>